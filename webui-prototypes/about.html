<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>About - OpenLandcoverMap</title>
    <link rel="stylesheet" href="https://api.tiles.mapbox.com/mapbox.js/v3.3.1/mapbox.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <style>
        .about-image {
            float: left;
            width: 45%;
            margin-right: 20px;
            margin-bottom: 10px;
        }
            
        .about-image-2 {
            float: right;
            width: 45%;
            margin-left: 20px;
            margin-bottom: 10px;    
        }
    </style>
</head>
<body>
    <header>
        <a href="/" class="logo">OpenLandcoverMap :)</a>
        <nav class="desktop-menu">
			<a href="about.html" class="active">About</a>
            <a href="renderedtags.html">Tag Usage</a>
            <a href="country_stats.html">Country Stats</a>
            <a href="downloads.html">Downloads</a>
            <a href="https://github.com/Zkir/generalized_landcovers"><i class="fab fa-github"></i> GitHub</a>
        </nav>
        <button class="mobile-menu-btn" id="mobileMenuBtn">
            <i class="fas fa-ellipsis-v"></i>
        </button>
        <nav class="mobile-menu" id="mobileMenu">
			<a href="about.html" class="active">About</a>
            <a href="renderedtags.html">Tag Usage</a>
            <a href="country_stats.html">Country Stats</a>
            <a href="downloads.html">Downloads</a>
            <a href="https://github.com/Zkir/generalized_landcovers"><i class="fab fa-github"></i> GitHub</a>
        </nav>
    </header>

    <main class="content-page">
        <h1>About OpenLandcoverMap</h1>
        <p>The official map on <a href="https://www.openstreetmap.org/">OpenStreetMap.org</a> can often appear empty and devoid of character at lower zoom levels (z0-z8). This project, <strong>OpenLandcoverMap</strong>, serves as an alternative rendering to demonstrate how cartographic generalization can create a much richer and more informative map.</p>
        
        <h2>The Problem with Raw Data</h2>
        <p><img src="img/pic01_empty_osm.png" alt="Blank OSM map" class="about-image">Why does the map look so empty? OpenStreetMap contains over 10 billion objects, and it's simply impossible for any rendering engine to display all of them at once. The real challenge lies in <strong>selection and simplification</strong>, an area where the standard renderer struggles.</p>
        <p>For example, you cannot simply select cities to display based on population size. A small village in a sparsely populated region is often more locally significant than a large city in a densely populated area like Europe. Similarly, for mountains, absolute elevation is not as important as relative prominence. The most interesting peaks are those that are the tallest within a certain vicinity.</p>
        <p>Furthermore, many polygonal features like forests, fields, and swamps are mapped as countless small, fragmented pieces. Without a generalization process, they are too small to be visible on a world map.</p>

        <h2>Our Generalization Approach</h2>
        <img src="img/pic03_cities.png" alt="Hexes and Cities" class="about-image-2">
        <p>We use Uber's H3 hexagonal grid system to process and generalize OSM data before rendering. Our method focuses on four key areas:<br />
        <ul>
            <li><strong>Landcover Generalization:</strong> For each 6-km H3 hexagon (resolution 6), we identify the dominant landcover type (e.g., <code>landuse=*</code> or <code>natural=*</code>) based on the largest area covered. Before this, we normalize tags, for example, converting <code>landuse=forest</code> to <code>natural=wood</code>. A feature must cover at least 1% of the hexagon's area (10% for built-up areas) to be considered. These hexagons are then merged to form large, cohesive landcover polygons. See the full list of supported landcover tags on our <a href="renderedtags.html">Tag Usage</a> page.</li>
            <li><strong>Water Body Generalization:</strong> Large water bodies are generalized separately. We select water bodies larger than 20 sq. km, buffer them to merge nearby water bodies, and then shrink them back. This process simplifies complex coastlines and merges groups of lakes.</li>
            <li><strong>Place Generalization:</strong> To decide which cities and towns to display, we use a very large H3 hexagon grid (resolution 1). We then rank each populated place by its population relative to other places within the same hexagon. This ensures that the most significant settlements in a large region are shown first.</li>
            <li><strong>Peak Generalization:</strong> For mountains, we calculate their prominence using the <a href="https://link.springer.com/article/10.1007/s42489-021-00079-y">Discrete Isolation</a> method, which measures the distance to the nearest higher peak. This ensures that only the most significant peaks are rendered at lower zoom levels.</li>
        </ul>
		</p>

        <h2>Technology Stack</h2>
		<img src="img/pic04_peaks.png" alt="Hexes and Cities" class="about-image">
        <p>This project is built on a foundation of powerful open-source tools: 
        <ul>
            <li><strong>PostgreSQL</strong> with <strong>PostGIS</strong> for spatial data storage and analysis.</li>
            <li><strong>h3-pg</strong> for H3 grid support within PostGIS.</li>
            <li><strong>osm2pgsql</strong> for importing OSM data.</li>
            <li>A series of custom <strong>SQL scripts</strong> to perform the generalization logic.</li>
            <li><strong>Mapnik</strong> and <strong>Tilemill</strong> for map rendering.</li>
            <li><strong>Python</strong> for various scripting and automation tasks.</li>
            <li><strong>Make</strong> to orchestrate the entire data processing and build pipeline.</li>
        </ul>
		</p>

        <h2>License and Data Availability</h2>
        <p>The source code for the entire generalization process is available under the permissive MIT license. You can find the repository on <a href="https://github.com/Zkir/generalized_landcovers">GitHub</a>.</p>
        <p>The generalized landcover data generated by this project is also available for download. Please visit the <a href="downloads.html">Downloads</a> page to access the data.</p>

        <h2>A Final Thought</h2>
		<img src="img/pic02_landcovers_vs_mapnik.png"  alt="Blank OSM map"  width="100%">
        <p>We hope that the wonderful people responsible for the slippy map at <a href="https://www.openstreetmap.org/">openstreetmap.org</a> will look at our map, see what's possible, and think hard about the future of cartographic representation in the project.</p>
        
    </main>

    <script>
        // Mobile menu functionality
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            document.getElementById('mobileMenu').classList.toggle('active');
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
            const mobileMenu = document.getElementById('mobileMenu');
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            
            if (mobileMenu.classList.contains('active') && 
                !mobileMenu.contains(event.target) && 
                !mobileMenuBtn.contains(event.target)) {
                mobileMenu.classList.remove('active');
            }
        });
    </script>
</body>
</html>